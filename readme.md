# Тестовое задание btlz

## Допущения
Я принял за данность максимально экстремальный случай, при котором WB может произвольно менять тарифы без привязки к датам изменения тарифов, которые они указывают, при этом экстремально требуется записать полностью всю динамику тарифов. То есть, например, говорят, что следующее изменение тарифов 1 октября, а сами меняют через час; или, меняют дату изменения тарифов с 1 октября на завтра; или вообще тарифы изменились без какого-либо изменения в датах. 
Я также принял за данность, что данные в ответе от WB API не содержат ошибок в типизации.

## Запуск
Для запуска необходимо выполнить команду 

```bash
cp example.env .env
```

Затем записать в .env переменную WB_TOKEN. 

Убедитесь, что в корне есть файлы spreadsheets.json, содержащий ID Google-таблиц, и spreadsheetsServiceAccountKey.json, содержащий ключи авторизации сервисного аккаунта Google. Я их вам прислал.

После этого можно запускать весь проект командой

```bash
docker-compose up
```


Ссылки на таблицы:


- https://docs.google.com/spreadsheets/d/10F6LJwNLUYCAcleVu-5z1qpAhDpp97k9LocpLcQJXgA
- https://docs.google.com/spreadsheets/d/1e7XAyMPIBMrD6GK7HKzCp0IZxE7mYyLytLH8CvZue0A
- https://docs.google.com/spreadsheets/d/12toX9AHr1oqSHDZtvfrCvDxpyaW3lH60aQxO4qwPYV4


## Логика БД:

Есть три таблицы: таблица периодов действия тарифов, таблица складов и таблица тарифов.
Каждому тарифу соответствует один период (дата начала и дата конца) и один склад. Если тариф обновляется, то в дату конца его текущего периода устанавливается текущее время, и создается новый период, с на